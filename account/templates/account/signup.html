{% extends 'base.html' %}
{% load static %}

{% block content %}
    <div class="col-12" style="text-align:center; margin: 4rem auto; padding: 40px;">
        <div class="mb-4">
            <h1>회원가입</h1>
        </div>
        <div style="text-align:left; margin: 4rem auto">
            <form method="POST" action="{% url 'account:sign_up' %}">
                {% csrf_token %}
                <br>
                <div class="col-12" style="margin: 0 auto;">
                    <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">이메일</label>
                        <input type="email" name="email" class="form-control form-control-lg" id="exampleInputEmail1"
                               aria-describedby="emailHelp" value="{{ email }}">
                    </div>
                    {% if type == 'basic' %}
                    <div>
                        <label for="exampleInputPassword1" class="form-label">패스워드</label>
                        <input type="password" name="password1" class="form-control form-control-lg" id="exampleInputPassword1">
                    </div>
                    <p style="font-size: 0.9rem; color: #929394">영문 대·소문자/특수문자와 숫자 조합, 8자~32자</p>
                    <div class="mb-3">
                        <label for="exampleInputPassword2" class="form-label">패스워드 확인</label>
                        <input type="password" name="password2" class="form-control form-control-lg" id="exampleInputPassword2">
                    </div>
                    {% endif %}

                    <div class="mb-3">
                        <label for="exampleInputphone" class="form-label">전화번호</label>
                        <input type="text" name="phone_number" class="form-control form-control-lg">
                    </div>

                </div>
                <input type="hidden" name="username" id="username_input" value="{{ email }}">
                <input type="hidden" name="type" value="{{ type }}">
                <button type="submit" style="width: 100%;" onclick="change_username()" class="btn btn-primary btn-xl mb-4">가입하기</button>
            </form>
            <div class="hr-sect col-12" style="margin: 0 auto; margin-bottom: 1rem;">소셜 회원가입</div>
            <div class="col-12" style="display: flex; margin: 0 auto; margin-bottom: 1rem; justify-content: center;">
                <a style="margin-right: 1rem;" href="{% url 'account:google_login' %}">
                    <span style="background-image: url({% static 'img/icons/google_icon.png' %}); background-size: cover; display: inline-block; width: 40px; height: 40px;"></span>
                </a>
                <a style="margin-right: 1rem;">
                    <span style="background-image: url({% static 'img/icons/naver_icon.png' %}); background-size: cover; display: inline-block; width: 40px; height: 40px;"></span>
                </a>
                <a style="margin-right: 1rem;">
                    <span style="background-image: url({% static 'img/icons/kakao_icon.png' %}); background-size: cover; display: inline-block; width: 40px; height: 40px;"></span>
                </a>

            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
    <script>
    function change_username(){
        let email = document.getElementById('exampleInputEmail1').value
        let email_id = email.split('@')[0]
        let username_input = document.getElementById('username_input')
        username_input.value = email_id
    }

    </script>
{% endblock %}